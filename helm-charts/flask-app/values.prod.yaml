replicaCount: 3

image:
  tag: "stable-1"

externalSecrets:
  enabled: true
  # Production refresh - check every 10 minutes (more conservative)
  refreshInterval: "10m"
  # Production retry settings - balanced for reliability
  retrySettings:
    maxRetries: 8           # Reasonable retries for production
    retryInterval: "15s"    # Slightly longer initial backoff
    retryIntervalMax: "10m" # Max backoff aligned with refresh interval
  databaseUrlKey: "prod/backend/database-url"
  flaskKey: "prod/backend/flask-key"

db:
  auth:
    database: "flask_prod"
    username: "flask_user"

ingress:
  enabled: true
  className: "nginx"
  hosts:
    - host: "api.example.com"
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: "fill-later-tls-secret"
      hosts:
        - "api.example.com"

# Enable monitoring in production with optimized settings
monitoring:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 15s  # More frequent scraping for production
    scrapeTimeout: 10s
    labels:
      release: prometheus  # Match Prometheus Operator selector
  prometheusRule:
    enabled: true
    labels:
      release: prometheus  # Match Prometheus Operator selector
